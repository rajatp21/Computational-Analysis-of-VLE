 for i=1:18     
T=input('enter the value of Temperature= ');     
x0=[0.5;0.5;T];
z1=fsolve(@myfun,x0);
z2=fsolve(@myfun,z1);
eps=1e-11;
%z2(1)-z1(1)>eps & z2(2)-z1(2)>eps
while (z2(1)-z1(1)>eps && z2(2)-z1(2)>eps)
    z1=z2;
    z2=fsolve(@myfun,z2);
end
disp(z2);
 end
function F=myfun(x)
x1=x(1);
y1=x(2);
T=x(3);
x2=1-x1;
P1sat=10^(7.838-1558.190/(T+198.881));
P2sat=10^(8.95446-2692.187/(T+255.210));  
     tau12=764.6865/(1.98721*(T+273.15));
     tau21=-226.3497/(1.98721*(T+273.15));
     G21=exp(-0.2993*(tau21));
     G12=exp(-0.2993*tau12);
gamma1=exp(x2^2*(tau21*(G21/(x1+x2*G21))^2+G12*tau12/(x2+x1*G12)^2));
gamma2=exp(x1^2*(tau12*(G12/(x2+x1*G12))^2+G21*-tau21/(x1+x2*G21)^2));
F(1)=730*y1-P1sat*x1*gamma1;
F(2)=730*(1-y1)-P2sat*(1-x1)*gamma2;
end


X=[0.0187,0.0340,0.0598,0.0830,0.0948,0.1397,0.1605,0.1930,0.2129,0.2705,0.3157,0.3599,0.4313,0.4771,0.5388,0.6290,0.6938,0.8036]
Y=[0.2037,0.3272,0.4782,0.5729,0.6107,0.7148,0.7484,0.7892,0.8090,0.8515,0.8748,0.8921,0.9128,0.9229,0.9339,0.9467,0.9546,0.9676]
T=[180.3,175.65,168.9,163.8,161.5,154.1,151.15,147.35,145.25,140.1,136.80,134.05,130.35,128.35,126,123.1,121.3,118.6]
x=[0.0185,0.0335,0.0595,0.0925,0.1035,0.1500,0.1720,0.2090,0.2350,0.3015,0.3520,0.4220,0.5090,0.5705,0.6390,0.7330,0.8045,0.9055]
y=[0.1970,0.3185,0.4590,0.5845,0.6150,0.7150,0.7525,0.7940,0.8180,0.8590,0.8825,0.9080,0.9290,0.9430,0.9540,0.9670,0.9770,0.9860]
scatter(x,T);
hold on;
scatter(y,T)
plot(X,T,'-',Y,T,'-');
xlabel('X1, Y1');
ylabel('T(In degree celcius)');
plot(X,Y,'-',x,y,'.');
xlabel('X1');
ylabel('Y1');
